<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=iso-8859-2"/>
    <title>Projekt IIS</title>
    <style type="text/css">
    	table { border-collapse: collapse; }
    	td, th { border: 1px solid black; padding: 0.3em 0.5em; text-align: left; }
    	dt { font-weight: bold; margin-top: 0.5em; }
    </style>
</head>
<body>

<!-- Zkontrolujte prosím nastavení kódování v hlavièce dokumentu 
     podle pou¾itého editoru -->

<h1>Lékárna</h1> <!-- Nahradte názvem svého zadání -->

<dl>
	<dt>Autoøi</dt>
	<dd>Vojtìch Dlápal<!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xdlapa01@stud.fit.vutbr.cz">xdlapa01@stud.fit.vutbr.cz</a> -
		Implementace skriptù nad frameworkem
	</dd>
	<dd>Ján Kebísek<!-- Nahraïte skuteèným jménem a e-mailem autora a popisem èinnosti -->
	    <a href="mailto:xkebis00@stud.fit.vutbr.cz">xkebis00@stud.fit.vutbr.cz</a> - 
		U¾ivatelské rozhraní, pøíprava databáze, testování
	</dd>
	<dt>URL aplikace</dt>
	<dd><a href="http://www.stud.fit.vutbr.cz/~xdlapa01/IIS">http://www.stud.fit.vutbr.cz/~xdlapa01/IIS</a></dd>
</dl>

<h2>U¾ivatelé systému pro testování</h2>
<p>Uveïte prosím existující zástupce <strong>v¹ech rolí u¾ivatelù</strong>.</p>
<table>
<tr><th>Login</th><th>Heslo</th><th>Role</th></tr>
<tr><td>admin</td><td>admin</td><td>Administrátor</td></tr>
<tr><td>lekarnik</td><td>lekarnik</td><td>U¾ivatel (lékárník)</td></tr>
</table>

<h2>Implementace</h2>
<p>Aplikace je vystavìna nad open source frameworkem Nette a plnì respektuje jeho MVP architekturu. Jako základ aplikace poslou¾il pøíklad CD-Collection,
který je souèástí frameworku. Jeliko¾ se zadání z IDS a IUS mírnì li¹í, bylo pokraèováno v práci na projektu z IDS.</p>

<h3>Model</h3>
<p>Tøídy modelu jsou umístìny ve slo¾ce model. Pro ka¾dou tabulku databáze je vytvoøen repozitáø, pomocí kterého je k tabulce pøistupováno. 
Vìt¹ina metod je implementována ve tøídì BaseRepository, od které ostatní dìdí. Aktuální repozitáø, se kterým se pracuje vychází z názvu tøídy.</p>

<h3>View</h3>
<p>Pohledy se nacházejí ve slo¾ce templates. Jsou tvoøeny html ¹ablonami, do ktérých jsou data pøedána presentery pomocí latte maker. V¹echny ¹ablony
dìdí od základní ¹ablony @layout.latte Pro ka¾dou akci prezenteru se nachází pohled ve stejnojmenné slo¾ce.</p>

<h3>Presenter</h3>
<p>V¹echny presentery dìdí od základní tøídy BasePresenter. V jednotlivých presenterech jsou samopopisné metody pro jednotlivé stavy aplikace a továrny pro potøebné formuláøe.
Nìkteré ze stavù jsou startup > beforeRender > action > render > metody pro obsluhu formuláøù.<br/>
Pøípady u¾ití:
<ul>
<li>Pøidat lék, vyhledat lék, ovìøit naskladnìní, odebrat lék, zmìnit atribut léku - LekPresenter</li>
<li>Vydat lék za hotové, vydat lék na pøedpis - ProdejPresenter</li>
<li>Odeslat poji¹»ovnám výkazy - ExportPresenter</li>
<li>Importovat vý¹e hrazení od poji¹»oven - ImportPresenter (ukazkovy soubor doplatky.csv)</li>
<li></li>
<li>Správa u¾ivatelù - UserPresenter</li>
<li>Správa poji¹»oven - PojistovnaPresenter</li>
</ul>
</p>
<h3>Zmìny oproti konceptu v IDS</h3>
<p>
<ul>
<li>Vý¹e doplatku léku byla z dùvodu efektivity dotazù a odstranìní redundace pøesunuta do tabulky lék, jeliko¾ IDS zadání nevyluèuje stejné vý¹e hrazení v¹emi poji¹»ovnami.
</li>
<li>Akce vykonávané v UC diagramu èasem pøesunuty pod lékárníka z dùvodu mo¾nosti ovìøit funkènost opravujícím</li>
<li>Forma exportu výkazu byla zvolena jako email s tabulkou obsahující doplatky na zvolenou adresu + adresu uvedenou v tabulce poji¹»ovny</li>
<li>Forma importu pøíspìvkù na léky zvolena jako CSV soubor ve formátu [kód],[nová vý¹e doplatku] (pøipraven soubor doplatky.csv)</li>
</ul>

<h2>Instalace</h2>
<ul>
<li>Aplikace vy¾aduje PHP 5.3. a Nette framework</li>
<li>Instalace Nette Frameworku je uvedena v souboru NetteReadme.txt</li>
<li>Aplikace je v¹ak pøipravena pro pou¾ití zkopírováním obsahu odevzdaného archivu na server</li>
<li>Nette framework je ve slo¾ce libs, cesty ke knihovnì jsou nastaveny v souboru index.php</li>
<li>Pro inicializaci databáze slou¾í skript xdlapa01.sql</li>
<li>Informace pro pøipojední k databázi se nastavují v souboru config.neon ve slo¾ce app</li>
<li>Pøidána role administrátora a jako jeho pole pùsobnosti zvolena správa u¾ivatelù a poji¹»oven v systému</li>
</ul>

<h2>Známé problémy</h2>
<p></p>

</body>
</html>
